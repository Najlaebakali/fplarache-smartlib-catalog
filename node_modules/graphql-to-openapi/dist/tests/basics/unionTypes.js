"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var fs_1 = require("fs");
var path = require("path");
var index_1 = require("../../index");
var assert = require("assert");
var stringify = require("json-stable-stringify");
describe('unionTypes', function () {
    it('should produce a valid openapi spec', function () {
        var schema = (0, fs_1.readFileSync)(path.join(__dirname, 'unionTypesSchema.graphql')).toString();
        var inputQueryFilename = path.join(__dirname, 'unionTypesQuery.graphql');
        var query = (0, fs_1.readFileSync)(inputQueryFilename).toString();
        // eslint-disable-next-line @typescript-eslint/no-var-requires
        var expectedOutput = require('./unionTypes.json');
        var actualOutput = (0, index_1.graphqlToOpenApi)({
            schema: schema,
            query: query,
        }).openApiSchema;
        var normalizedActualOutput = stringify(actualOutput, { space: '  ' });
        var normalizedExpectedOutput = stringify(expectedOutput, { space: '  ' });
        assert.ok(!!actualOutput);
        assert.equal(normalizedActualOutput, normalizedExpectedOutput);
    });
});
