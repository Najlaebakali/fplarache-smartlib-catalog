"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var stringify = require("json-stable-stringify");
var commander_1 = require("commander");
var fs_1 = require("fs");
var graphql_1 = require("graphql");
var _a = commander_1.program
    .description([
    'converts a schema string into ',
    'an introspection schema json file',
].join('\n'))
    .requiredOption('-f, --filename <filename>', 'Input filename')
    .requiredOption('-o, --outputFilename <outputFilename>', 'Output filename')
    .parse(process.argv)
    .opts(), filename = _a.filename, outputFilename = _a.outputFilename;
var original = (0, fs_1.readFileSync)(filename).toString();
var schema = (0, graphql_1.buildSchema)(original);
var introspectionSchema = (0, graphql_1.graphqlSync)({ schema: schema, source: filename }).data;
(0, fs_1.writeFileSync)(outputFilename, stringify(introspectionSchema, { space: '  ' }));
